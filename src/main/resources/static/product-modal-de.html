<div class="modal-content">
    <div class="modal-header">
        <h2>üì¶ Produktverwaltung Details</h2>
        <button onclick="closeModal()" class="modal-close-btn">&times;</button>
    </div>

    <div class="modal-body">
        <!-- Allgemeine Beschreibung -->
        <div class="description-section">
            <h3>Allgemeine Beschreibung</h3>
            <p>
                ProductService ist verantwortlich f√ºr die Produktverwaltung.
                F√ºhrt Operationen zum Hinzuf√ºgen, Aktualisieren, L√∂schen und Abrufen von Produkten mit verschiedenen Filter- und Sortierkriterien durch.
                Bietet vollst√§ndigen Zyklus der Produktkatalogverwaltung f√ºr den Shop.
            </p>
        </div>

        <!-- Hauptservice-Methoden -->
        <div class="methods-section">
            <h3>Hauptservice-Methoden</h3>

            <div class="method-card">
                <h4>addProduct(ProductRequestDto productRequestDto)</h4>
                <p>F√ºgt ein neues Produkt hinzu.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Ruft Kategorie nach Namen ab</div>
                    <div>‚Ä¢ Pr√ºft, dass Produkt mit diesem Namen nicht in der Kategorie existiert</div>
                    <div>‚Ä¢ Bestimmt aktuelles Datum und Uhrzeit</div>
                    <div>‚Ä¢ Erstellt Product-Objekt und speichert √ºber ProductRepository</div>
                    <div>‚Ä¢ Gibt ProductResponseDto √ºber ProductConverter zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>updateProduct(Integer productId, ProductUpdateDto productUpdateDto)</h4>
                <p>Aktualisiert Daten eines bestehenden Produkts.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Findet Produkt nach ID, wenn nicht gefunden - wirft IllegalArgumentException</div>
                    <div>‚Ä¢ Aktualisiert Kategorie, Name, Beschreibung, Preis, Rabatt und Bild</div>
                    <div>‚Ä¢ Validiert Datenkorrektheit (Namenl√§nge, Preis > 0 usw.)</div>
                    <div>‚Ä¢ Aktualisiert √Ñnderungsdatum</div>
                    <div>‚Ä¢ Speichert Produkt √ºber ProductRepository</div>
                    <div>‚Ä¢ Gibt ProductResponseDto zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>setDiscountPrice(Integer productId, BigDecimal newDiscountPrice)</h4>
                <p>Setzt neuen Rabatt f√ºr Produkt.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Findet Produkt nach ID</div>
                    <div>‚Ä¢ Setzt discountPrice und speichert</div>
                    <div>‚Ä¢ Gibt ProductResponseDto zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>deleteProduct(Integer productId)</h4>
                <p>L√∂scht Produkt.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Findet Produkt nach ID</div>
                    <div>‚Ä¢ L√∂scht es √ºber ProductRepository</div>
                    <div>‚Ä¢ Gibt ProductResponseDto zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getProductsByCriteria(String paramName, String paramValue, String sortDirection)</h4>
                <p>Ruft Liste von Produkten nach bestimmten Kriterien ab.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Verarbeitet Parameter: price, discount, category, name, createDate</div>
                    <div>‚Ä¢ Ruft entsprechende Methoden zum Abrufen von Produkten auf</div>
                    <div>‚Ä¢ Gibt Liste von ProductResponseDto zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getTopFiveDiscountedProductsOfTheDay()</h4>
                <p>Ruft Top-5 Produkte mit h√∂chstem Rabatt ab.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Findet Produkte mit aktiven Rabatten</div>
                    <div>‚Ä¢ Sortiert nach Rabattgr√∂√üe in absteigender Reihenfolge</div>
                    <div>‚Ä¢ Begrenzt Ergebnis auf 5 Eintr√§ge</div>
                    <div>‚Ä¢ Gibt Liste von ProductResponseForUserDto zur√ºck</div>
                </div>
            </div>
        </div>

        <!-- Endpoints -->
        <div class="endpoints-section">
            <h3>REST Endpoints</h3>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method post">POST</span>
                    <span class="endpoint-path">/v1/products</span>
                    <span class="role-badge role-admin">ADMIN</span>
                </div>
                <p>Erstellt neues Produkt (nur f√ºr ADMIN und MANAGER)</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method put">PUT</span>
                    <span class="endpoint-path">/v1/products/{productId}</span>
                    <span class="role-badge role-manager">MANAGER</span>
                </div>
                <p>Aktualisiert Produktdaten (nur f√ºr ADMIN und MANAGER)</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method delete">DELETE</span>
                    <span class="endpoint-path">/v1/products/{productId}</span>
                    <span class="role-badge role-admin">ADMIN</span>
                </div>
                <p>L√∂scht Produkt (nur f√ºr ADMIN und MANAGER)</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/products/updateProductDiscount/{productId}/{newDiscount}</span>
                    <span class="role-badge role-manager">MANAGER</span>
                </div>
                <p>Aktualisiert Rabatt f√ºr Produkt (nur f√ºr ADMIN und MANAGER)</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/products</span>
                    <span class="role-badge role-manager">MANAGER</span>
                </div>
                <p>Ruft alle Produkte ab (vollst√§ndige Information f√ºr ADMIN und MANAGER)</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/products/getAllProductForUser</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>Ruft alle Produkte ab (vereinfachte Information f√ºr Benutzer)</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/products/getProductsByCriteria</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>Suchprodukte nach Kriterien (Preis, Kategorie, Name usw.)</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/products/getTopFiveProducts</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>Ruft Top-5 Produkte mit h√∂chsten Rabatten ab</p>
            </div>
        </div>

        <!-- Implementierungsmerkmale -->
        <div class="features-section">
            <h3>üîß Implementierungsmerkmale</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Berechtigungstrennung:</strong> Unterschiedliche Zugriffsebenen f√ºr Benutzer, MANAGER und ADMIN</div>
                    <div>‚Ä¢ <strong>Flexible Suche:</strong> Unterst√ºtzung mehrerer Filter- und Sortierkriterien</div>
                    <div>‚Ä¢ <strong>Datenvalidierung:</strong> Validierung von Preisen, Rabatten und anderen Parametern</div>
                    <div>‚Ä¢ <strong>Produkteindeutigkeit:</strong> Garantie f√ºr eindeutigen Produktnamen innerhalb der Kategorie</div>
                    <div>‚Ä¢ <strong>Abfrageoptimierung:</strong> Effiziente Datenbankabfragen √ºber Repositories</div>
                    <div>‚Ä¢ <strong>Caching:</strong> M√∂glichkeit, h√§ufig angeforderte Daten zu cachen</div>
                </div>
            </div>
        </div>

        <!-- Gesch√§ftslogik -->
        <div class="business-logic-section">
            <h3>üíº Gesch√§ftslogik</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Preispolitik:</strong> Unterst√ºtzung regul√§rer Preise und Rabattpreise</div>
                    <div>‚Ä¢ <strong>Kategorisierung:</strong> Klare Organisation von Produkten nach Kategorien</div>
                    <div>‚Ä¢ <strong>Promotionen:</strong> Top-5 rabattierte Produkte Mechanismus zur Verkaufsf√∂rderung</div>
                    <div>‚Ä¢ <strong>Managementflexibilit√§t:</strong> M√∂glichkeit zur schnellen Aktualisierung von Preisen und Rabatten</div>
                    <div>‚Ä¢ <strong>Suche und Filterung:</strong> Bequeme Produktsuche nach verschiedenen Parametern</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button onclick="closeModal()" class="btn btn-primary">Schlie√üen</button>
    </div>
</div>