<div class="modal-content">
    <div class="modal-header">
        <h2>üìä Statistiken und Analysen Details</h2>
        <button onclick="closeModal()" class="modal-close-btn">&times;</button>
    </div>

    <div class="modal-body">
        <!-- Allgemeine Beschreibung -->
        <div class="description-section">
            <h3>Allgemeine Beschreibung</h3>
            <p>
                StatisticService ist verantwortlich f√ºr das Abrufen von Statistiken zu Produkten und Gewinn.
                F√ºhrt Operationen zum Z√§hlen der meistverkauften, stornierten Produkte, Produkte im Zahlungsausstehend-Status durch,
                sowie zur Berechnung des Gewinns f√ºr den ausgew√§hlten Zeitraum. Bietet analytische Daten f√ºr Gesch√§ftsentscheidungen.
            </p>
        </div>

        <!-- Hauptservice-Methoden -->
        <div class="methods-section">
            <h3>Hauptservice-Methoden</h3>

            <div class="method-card">
                <h4>getTopTenPurchasedProducts()</h4>
                <p>Ruft Liste von 10 meistgekauften Produkten mit PAID-Status ab.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Ruft private Methode getTopTenProducts(Order.Status.PAID) auf</div>
                    <div>‚Ä¢ Gibt Liste von ProductStatisticResponseDto zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getTenCanceledProducts()</h4>
                <p>Ruft Liste von 10 Produkten ab, f√ºr die stornierte Bestellungen vorhanden waren.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Ruft private Methode getTopTenProducts(Order.Status.CANCELLED) auf</div>
                    <div>‚Ä¢ Gibt Liste von ProductStatisticResponseDto zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getProductsInPendingPaymentStatus(Integer days)</h4>
                <p>Ruft Produkte mit Bestellungen im PENDING_PAYMENT-Status f√ºr die letzten N Tage ab.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Berechnet Periodenstartdatum</div>
                    <div>‚Ä¢ Erstellt productQuantityMap zum Z√§hlen der Menge jedes Produkts</div>
                    <div>‚Ä¢ Ruft Bestellungen mit PENDING_PAYMENT-Status ab, die nach startDate erstellt wurden</div>
                    <div>‚Ä¢ Z√§hlt Menge jedes Produkts in Bestellungen</div>
                    <div>‚Ä¢ Konvertiert Map zu ProductStatisticResponseDto-Liste √ºber ProductConverter</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getProfitStatistics(ProfitStatisticRequestDto request)</h4>
                <p>Ruft Gewinnstatistiken f√ºr Zeitraum mit Gruppierung nach Stunde, Tag, Woche oder Monat ab.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Validiert Periodeneinheit (DAYS, WEEKS, MONTHS, YEARS) und groupBy (HOUR, DAY, WEEK, MONTH)</div>
                    <div>‚Ä¢ Bestimmt startDate und endDate</div>
                    <div>‚Ä¢ Ruft Bestellungen mit PAID-Status nach startDate ab</div>
                    <div>‚Ä¢ Gruppiert Gewinn nach Schl√ºssel abh√§ngig von groupBy</div>
                    <div>‚Ä¢ Berechnet totalProfit</div>
                    <div>‚Ä¢ Gibt ProfitStatisticsResponseDto mit Gewinndaten zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getTopTenProducts(Order.Status orderStatus) [privat]</h4>
                <p>Ruft Top-10 Produkte nach Verkaufsmenge f√ºr angegebenen Bestellstatus ab.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Erstellt productTopTenProducts Map zum Z√§hlen der Menge jedes Produkts</div>
                    <div>‚Ä¢ Ruft alle Bestellungen mit angegebenem Status ab</div>
                    <div>‚Ä¢ Summiert Produktmengen nach Bestellungen</div>
                    <div>‚Ä¢ Sortiert absteigend und beh√§lt erste 10</div>
                    <div>‚Ä¢ Konvertiert zu ProductStatisticResponseDto-Liste √ºber ProductConverter</div>
                </div>
            </div>
        </div>

        <!-- Endpoints -->
        <div class="endpoints-section">
            <h3>REST Endpoints</h3>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/statistics/topSold</span>
                    <span class="role-badge role-admin">ADMIN</span>
                </div>
                <p>Ruft Top-10 meistverkaufte Produkte ab</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/statistics/topCanceled</span>
                    <span class="role-badge role-admin">ADMIN</span>
                </div>
                <p>Ruft Top-10 meiststornierte Produkte ab</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/statistics/pendingPayment/{days}</span>
                    <span class="role-badge role-admin">ADMIN</span>
                </div>
                <p>Ruft Produkte mit ausstehenden Zahlungen f√ºr die letzten N Tage ab</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method post">POST</span>
                    <span class="endpoint-path">/v1/statistics/profit</span>
                    <span class="role-badge role-admin">ADMIN</span>
                </div>
                <p>Ruft Gewinnstatistiken f√ºr angegebenen Zeitraum mit Gruppierung ab</p>
            </div>
        </div>

        <!-- Implementierungsmerkmale -->
        <div class="features-section">
            <h3>üîß Implementierungsmerkmale</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Flexible Gruppierung:</strong> Unterst√ºtzung verschiedener Gruppierungsperioden (Stunde, Tag, Woche, Monat)</div>
                    <div>‚Ä¢ <strong>Effiziente Abfragen:</strong> Optimierte SQL-Abfragen f√ºr Arbeit mit gro√üen Datenmengen</div>
                    <div>‚Ä¢ <strong>Parametervalidierung:</strong> √úberpr√ºfung der Perioden- und Gruppierungskriterienkorrektheit</div>
                    <div>‚Ä¢ <strong>Echtzeit-Statistiken:</strong> Aktuelle Daten basierend auf tats√§chlichen Bestellungen</div>
                    <div>‚Ä¢ <strong>Skalierbarkeit:</strong> F√§higkeit zur Verarbeitung gro√üer Mengen historischer Daten</div>
                    <div>‚Ä¢ <strong>Sicherheit:</strong> Zugriff nur f√ºr Systemadministratoren</div>
                </div>
            </div>
        </div>

        <!-- Gesch√§ftslogik -->
        <div class="business-logic-section">
            <h3>üíº Gesch√§ftslogik</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Verkaufsanalyse:</strong> Identifizierung beliebtester und problematischer Produkte</div>
                    <div>‚Ä¢ <strong>Lagerverwaltung:</strong> Daten zur Optimierung von Lagerbest√§nden</div>
                    <div>‚Ä¢ <strong>Finanzanalyse:</strong> Detaillierte Gewinnstatistiken nach Perioden</div>
                    <div>‚Ä¢ <strong>Problemidentifikation:</strong> Analyse stornierter Bestellungen zur Serviceverbesserung</div>
                    <div>‚Ä¢ <strong>Planung:</strong> Daten f√ºr Verkaufsprognosen und Beschaffung</div>
                </div>
            </div>
        </div>

        <!-- Metriken und Indikatoren -->
        <div class="metrics-section">
            <h3>üìà Schl√ºsselmetriken</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Top-Verk√§ufe:</strong> 10 meistverkaufte Produkte</div>
                    <div>‚Ä¢ <strong>Top-Stornierungen:</strong> 10 meiststornierte Produkte</div>
                    <div>‚Ä¢ <strong>Ausstehende Zahlungen:</strong> Produkte in Bestellungen mit PENDING_PAYMENT-Status</div>
                    <div>‚Ä¢ <strong>Gewinn nach Perioden:</strong> Gewinngruppierung nach Stunden, Tagen, Wochen, Monaten</div>
                    <div>‚Ä¢ <strong>Gesamtgewinn:</strong> Gesamtgewinn f√ºr ausgew√§hlten Zeitraum</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button onclick="closeModal()" class="btn btn-primary">Schlie√üen</button>
    </div>
</div>