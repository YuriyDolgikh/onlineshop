<div class="modal-content">
    <div class="modal-header">
        <h2>üì¶ Bestellpositionen Details</h2>
        <button onclick="closeModal()" class="modal-close-btn">&times;</button>
    </div>

    <div class="modal-body">
        <!-- Allgemeine Beschreibung -->
        <div class="description-section">
            <h3>Allgemeine Beschreibung</h3>
            <p>
                OrderItemService ist verantwortlich f√ºr die Verwaltung einzelner Produkte in Benutzerbestellungen.
                F√ºhrt Operationen zum L√∂schen und Aktualisieren von Produktmengen in Bestellungen
                mit PENDING_PAYMENT-Status durch. Bietet Verwaltung des Bestellinhalts bis zum Zahlungszeitpunkt.
            </p>
        </div>

        <!-- Hauptservice-Methoden -->
        <div class="methods-section">
            <h3>Hauptservice-Methoden</h3>

            <div class="method-card">
                <h4>deleteItemFromOrder(Integer orderItemId)</h4>
                <p>L√∂scht bestimmtes Produkt aus Bestellung nach Bestellpositionsidentifikator.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Pr√ºft, dass orderItemId nicht null ist</div>
                    <div>‚Ä¢ Findet entsprechendes Element in OrderItemRepository</div>
                    <div>‚Ä¢ Validiert, dass Bestellung in PENDING_PAYMENT-Status ist</div>
                    <div>‚Ä¢ Pr√ºft, dass Bestellung zum aktuellen Benutzer geh√∂rt</div>
                    <div>‚Ä¢ Entfernt Element aus orderItems-Sammlung der Bestellung</div>
                    <div>‚Ä¢ L√∂scht Element aus Datenbank und speichert aktualisierte Bestellung</div>
                </div>
            </div>

            <div class="method-card">
                <h4>updateItemQuantityInOrder(OrderItemUpdateDto dto)</h4>
                <p>Aktualisiert Menge eines bestimmten Produkts in Benutzerbestellung.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Validiert Eingabedaten (dto != null)</div>
                    <div>‚Ä¢ Findet Bestellposition nach orderItemId aus dto</div>
                    <div>‚Ä¢ Validiert, dass Menge mindestens 1 ist</div>
                    <div>‚Ä¢ Pr√ºft, ob Bestellung zum aktuellen Benutzer geh√∂rt</div>
                    <div>‚Ä¢ Validiert, dass Bestellung in PENDING_PAYMENT-Status ist</div>
                    <div>‚Ä¢ Aktualisiert Produktmenge und speichert √Ñnderungen</div>
                    <div>‚Ä¢ Gibt aktualisierte Bestellposition als DTO (OrderItemResponseDto) zur√ºck</div>
                </div>
            </div>
        </div>

        <!-- Endpoints -->
        <div class="endpoints-section">
            <h3>REST Endpoints</h3>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method delete">DELETE</span>
                    <span class="endpoint-path">/v1/orderItems/{orderItemId}</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>L√∂scht Produkt aus Bestellung nach Bestellpositions-ID</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method put">PUT</span>
                    <span class="endpoint-path">/v1/orderItems</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>Aktualisiert Produktmenge in Bestellung</p>
            </div>
        </div>

        <!-- Implementierungsmerkmale -->
        <div class="features-section">
            <h3>üîß Implementierungsmerkmale</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Sicherheit:</strong> √úberpr√ºfung der Bestellungszugeh√∂rigkeit zum aktuellen Benutzer</div>
                    <div>‚Ä¢ <strong>Statusvalidierung:</strong> Operationen nur f√ºr Bestellungen mit PENDING_PAYMENT-Status erlaubt</div>
                    <div>‚Ä¢ <strong>Datenintegrit√§t:</strong> Automatische Entfernung aus Bestellungssammlung beim L√∂schen von Elementen</div>
                    <div>‚Ä¢ <strong>Validierung:</strong> √úberpr√ºfung der Mengenkorrektheit und Bestellpositionsexistenz</div>
                    <div>‚Ä¢ <strong>Fehlerbehandlung:</strong> Detaillierte Ausnahmen f√ºr verschiedene Fehlerszenarien</div>
                </div>
            </div>
        </div>

        <!-- Gesch√§ftslogik -->
        <div class="business-logic-section">
            <h3>üíº Gesch√§ftslogik</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Bestellungs√§nderung:</strong> Benutzer k√∂nnen Bestellinhalt bis zur Zahlungsbest√§tigung √§ndern</div>
                    <div>‚Ä¢ <strong>Zugeh√∂rigkeitskontrolle:</strong> Benutzer k√∂nnen nur Elemente in eigenen Bestellungen verwalten</div>
                    <div>‚Ä¢ <strong>Status-Workflow:</strong> Bestellpositionen werden nach Zahlungsbest√§tigung unver√§nderlich</div>
                    <div>‚Ä¢ <strong>Mengenkontrolle:</strong> Mindestmenge von 1 f√ºr alle Bestellpositionen erforderlich</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button onclick="closeModal()" class="btn btn-primary">Schlie√üen</button>
    </div>
</div>