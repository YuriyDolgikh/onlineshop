<div class="modal-content">
    <div class="modal-header">
        <h2>üõí Warenkorb Details</h2>
        <button onclick="closeModal()" class="modal-close-btn">&times;</button>
    </div>

    <div class="modal-body">
        <!-- Allgemeine Beschreibung -->
        <div class="description-section">
            <h3>Allgemeine Beschreibung</h3>
            <p>
                Das Warenkorbmodul ist verantwortlich f√ºr die Verwaltung von Produkten, die der Benutzer zu kaufen plant.
                Enth√§lt Funktionen zum Hinzuf√ºgen, Entfernen, √Ñndern der Produktmengen sowie
                zum Konvertieren des Warenkorbs in eine Bestellung.
            </p>
        </div>

        <!-- Hauptservice-Methoden -->
        <div class="methods-section">
            <h3>Hauptservice-Methoden</h3>

            <div class="method-card">
                <h4>clearCart()</h4>
                <p>Leert den Warenkorb des aktuellen Benutzers.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Ruft aktuellen Benutzer √ºber UserService ab</div>
                    <div>‚Ä¢ L√∂scht alle Warenkorbpositionen</div>
                    <div>‚Ä¢ Speichert Benutzer√§nderungen √ºber UserRepository</div>
                </div>
            </div>

            <div class="method-card">
                <h4>transferCartToOrder()</h4>
                <p>√úbertr√§gt Warenkorbinhalt in neue Bestellung.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Ruft aktuellen Warenkorb und Benutzer ab</div>
                    <div>‚Ä¢ Konvertiert CartItem zu OrderItem</div>
                    <div>‚Ä¢ Erstellt neues Order-Objekt mit PENDING_PAYMENT-Status</div>
                    <div>‚Ä¢ Speichert Bestellung √ºber OrderRepository</div>
                    <div>‚Ä¢ Leert Warenkorb nach erfolgreicher √úbertragung</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getCartFullData()</h4>
                <p>Gibt vollst√§ndige Warenkorbinformationen als CartResponseDto zur√ºck.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Ruft aktuellen Benutzer und Warenkorb ab</div>
                    <div>‚Ä¢ Konvertiert Warenkorbpositionen zu DTO</div>
                    <div>‚Ä¢ Berechnet Gesamtkosten unter Ber√ºcksichtigung von Rabatten</div>
                    <div>‚Ä¢ Gibt DTO mit ID, Produktliste und Gesamtbetrag zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getCurrentCart()</h4>
                <p>Gibt Warenkorb des aktuellen Benutzers zur√ºck.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Ruft Benutzer √ºber UserService ab</div>
                    <div>‚Ä¢ Sucht Warenkorb √ºber CartRepository</div>
                    <div>‚Ä¢ Wenn Warenkorb nicht vorhanden - BadRequestException("Cart is empty")</div>
                </div>
            </div>

            <div class="method-card">
                <h4>saveCart(Cart cart)</h4>
                <p>Speichert Benutzerwarenkorb in der Datenbank.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Pr√ºft, dass Warenkorbobjekt nicht null ist</div>
                    <div>‚Ä¢ Pr√ºft Vorhandensein von Benutzer und Warenkorbpositionen</div>
                    <div>‚Ä¢ Speichert Warenkorb √ºber CartRepository</div>
                </div>
            </div>
        </div>

        <!-- Endpoints -->
        <div class="endpoints-section">
            <h3>REST Endpoints</h3>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/carts</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>Ruft vollst√§ndige Informationen √ºber den Warenkorb des aktuellen Benutzers ab</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method delete">DELETE</span>
                    <span class="endpoint-path">/v1/carts</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>Leert gesamten Warenkorb des aktuellen Benutzers</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/carts/toOrder</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>Konvertiert Warenkorb in Bestellung mit anschlie√üender Warenkorbleerung</p>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button onclick="closeModal()" class="btn btn-primary">Schlie√üen</button>
    </div>
</div>