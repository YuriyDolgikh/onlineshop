<div class="modal-content">
    <div class="modal-header">
        <h2>üìë Produktkategorien Details</h2>
        <button onclick="closeModal()" class="modal-close-btn">&times;</button>
    </div>

    <div class="modal-body">
        <!-- Allgemeine Beschreibung -->
        <div class="description-section">
            <h3>Allgemeine Beschreibung</h3>
            <p>
                CategoryService ist verantwortlich f√ºr die Verwaltung von Produktkategorien im System,
                bietet Hinzuf√ºgen, Aktualisieren, L√∂schen von Kategorien,
                sowie das Abrufen einer paginierten Liste aller Kategorien.
            </p>
        </div>

        <!-- Hauptservice-Methoden -->
        <div class="methods-section">
            <h3>Hauptservice-Methoden</h3>

            <div class="method-card">
                <h4>addCategory(CategoryRequestDto categoryRequestDto)</h4>
                <p>F√ºgt neue Kategorie hinzu.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Pr√ºft, dass categoryRequestDto nicht null ist</div>
                    <div>‚Ä¢ Pr√ºft, dass Kategoriename nicht leer ist</div>
                    <div>‚Ä¢ Validiert Eindeutigkeit des Kategorienamens</div>
                    <div>‚Ä¢ Verarbeitet Bild √ºber CategoryServiceHelper.resolveImageUrl()</div>
                    <div>‚Ä¢ Erstellt neue Kategorie und speichert sie in der Datenbank</div>
                    <div>‚Ä¢ Gibt CategoryResponseDto der erstellten Kategorie zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>updateCategory(Integer categoryId, CategoryUpdateDto categoryUpdateDto)</h4>
                <p>Aktualisiert bestehende Kategorie nach ihrem Identifikator.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Pr√ºft Existenz der Kategorie mit angegebener ID</div>
                    <div>‚Ä¢ Wenn neuer Name angegeben - validiert L√§nge (3-20 Zeichen)</div>
                    <div>‚Ä¢ Validiert Eindeutigkeit des neuen Kategorienamens</div>
                    <div>‚Ä¢ Wenn Bild angegeben - verarbeitet √ºber Helper</div>
                    <div>‚Ä¢ Aktualisiert entsprechende Kategoriefelder</div>
                    <div>‚Ä¢ Speichert √Ñnderungen und gibt CategoryResponseDto zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>deleteCategory(Integer categoryId)</h4>
                <p>L√∂scht Kategorie nach ihrem Identifikator.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Pr√ºft, dass categoryId nicht null ist</div>
                    <div>‚Ä¢ Pr√ºft Kategorieexistenz in der Datenbank</div>
                    <div>‚Ä¢ Setzt Kategorie aller verkn√ºpften Produkte auf null</div>
                    <div>‚Ä¢ L√∂scht Kategorie aus der Datenbank</div>
                    <div>‚Ä¢ Gibt CategoryResponseDto der gel√∂schten Kategorie zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getAllCategories(Pageable pageable)</h4>
                <p>Gibt Seite aller Kategorien mit Paginierung zur√ºck.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Ruft Seite der Kategorien √ºber CategoryRepository ab</div>
                    <div>‚Ä¢ Konvertiert Category zu CategoryResponseDto √ºber CategoryConverter</div>
                    <div>‚Ä¢ Gibt Page<CategoryResponseDto> zur√ºck</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getCategoryById(Integer categoryId)</h4>
                <p>Gibt Kategorie nach ihrem Identifikator zur√ºck.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Sucht Kategorie √ºber CategoryRepository.findByCategoryId()</div>
                    <div>‚Ä¢ Wenn Kategorie nicht gefunden, wirft BadRequestException</div>
                    <div>‚Ä¢ Gibt Category-Objekt zur√ºck (nicht DTO)</div>
                </div>
            </div>

            <div class="method-card">
                <h4>getCategoryByName(String categoryName)</h4>
                <p>Gibt Kategorie nach ihrem Namen zur√ºck.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Sucht Kategorie √ºber CategoryRepository.findByCategoryName()</div>
                    <div>‚Ä¢ Wenn Kategorie nicht gefunden, wirft BadRequestException</div>
                    <div>‚Ä¢ Gibt Category-Objekt zur√ºck (nicht DTO)</div>
                </div>
            </div>
        </div>

        <!-- DTO Objekte -->
        <div class="methods-section">
            <h3>üìä DTO Objekte</h3>

            <div class="method-card">
                <h4>CategoryRequestDto</h4>
                <p>F√ºr Erstellung neuer Kategorie</p>
                <div class="method-steps">
                    <div>‚Ä¢ categoryName: String - Kategoriename (erforderlich)</div>
                    <div>‚Ä¢ image: String - Kategoriebild-URL</div>
                </div>
            </div>

            <div class="method-card">
                <h4>CategoryUpdateDto</h4>
                <p>F√ºr Aktualisierung bestehender Kategorie</p>
                <div class="method-steps">
                    <div>‚Ä¢ categoryName: String - neuer Kategoriename (optional)</div>
                    <div>‚Ä¢ image: String - neues Kategoriebild (optional)</div>
                </div>
            </div>

            <div class="method-card">
                <h4>CategoryResponseDto</h4>
                <p>Antwort mit Kategorieinformationen</p>
                <div class="method-steps">
                    <div>‚Ä¢ categoryId: Integer - Kategorie-Identifikator</div>
                    <div>‚Ä¢ categoryName: String - Kategoriename</div>
                    <div>‚Ä¢ image: String - Kategoriebild-URL</div>
                </div>
            </div>
        </div>

        <!-- Endpoints -->
        <div class="endpoints-section">
            <h3>REST Endpoints</h3>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method post">POST</span>
                    <span class="endpoint-path">/v1/categories</span>
                    <span class="role-badge role-admin">ADMIN</span>
                </div>
                <p>Erstellt neue Kategorie im System. Erfordert eindeutigen Kategorienamen.</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method put">PUT</span>
                    <span class="endpoint-path">/v1/categories/{categoryId}</span>
                    <span class="role-badge role-manager">MANAGER</span>
                </div>
                <p>Aktualisiert bestehende Kategorie nach ID. Unterst√ºtzt partielle Aktualisierungen.</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method delete">DELETE</span>
                    <span class="endpoint-path">/v1/categories/{categoryId}</span>
                    <span class="role-badge role-admin">ADMIN</span>
                </div>
                <p>L√∂scht Kategorie aus dem System. Produkte bleiben ohne Kategorie (category = null).</p>
            </div>

            <div class="endpoint-detail">
                <div class="endpoint-header">
                    <span class="http-method get">GET</span>
                    <span class="endpoint-path">/v1/categories?page=0&size=20</span>
                    <span class="role-badge role-user">USER</span>
                </div>
                <p>Ruft paginierte Liste aller Kategorien ab.</p>
                <div class="method-steps">
                    <div>‚Ä¢ Parameter: page (Standard 0), size (Standard 20)</div>
                </div>
            </div>
        </div>

        <!-- Implementierungsmerkmale -->
        <div class="features-section">
            <h3>üîß Implementierungsmerkmale</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Datenvalidierung:</strong> Pr√ºfung der Namenseindeutigkeit, Namensl√§nge (3-20 Zeichen)</div>
                    <div>‚Ä¢ <strong>Bildverarbeitung:</strong> Automatische URL-Konvertierung √ºber CategoryServiceHelper</div>
                    <div>‚Ä¢ <strong>Sicheres L√∂schen:</strong> Produkte werden nicht gel√∂scht, sondern bleiben ohne Kategorie</div>
                    <div>‚Ä¢ <strong>Paginierung:</strong> Unterst√ºtzung f√ºr seitenweise Ausgabe der Kategorieliste</div>
                    <div>‚Ä¢ <strong>Flexible Aktualisierungen:</strong> Unterst√ºtzung f√ºr partielle Feldaktualisierungen</div>
                    <div>‚Ä¢ <strong>Transaktionssicherheit:</strong> Alle Operationen werden innerhalb von Transaktionen durchgef√ºhrt</div>
                </div>
            </div>
        </div>

        <!-- Gesch√§ftslogik -->
        <div class="business-logic-section">
            <h3>üíº Gesch√§ftslogik</h3>
            <div class="method-card">
                <div class="method-steps">
                    <div>‚Ä¢ <strong>Kategorieeindeutigkeit:</strong> Kategorienamen m√ºssen im System eindeutig sein</div>
                    <div>‚Ä¢ <strong>Datenintegrit√§t:</strong> Produkte gehen nicht verloren, wenn Kategorie gel√∂scht wird</div>
                    <div>‚Ä¢ <strong>Eingabevalidierung:</strong> Strenge Anforderungen an die L√§nge der Kategorienamen</div>
                    <div>‚Ä¢ <strong>Bildverwaltung:</strong> Zentrale Verarbeitung von Bild-URLs</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button onclick="closeModal()" class="btn btn-primary">Schlie√üen</button>
    </div>
</div>